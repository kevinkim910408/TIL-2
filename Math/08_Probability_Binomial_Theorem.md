# Probability - Binomial Theorem (확률 - 이항정리)

(아... 제일 싫어하는 것 중 하나가 벌써 왔다.. 미분을 할려면 다시 해야하는 이항정리.)

---

이항정리는 `(a+b)^n 을 전개하는 방법`이라고 생각하면 편하다.

일단 ( a + b )^n을 전개해 보자

`a^n + a^n-1*b + a^n-2*b^2 + ... + b^n`... 이런식으로 간다.

(a + b)^2를 전개해보자.
`(a + b)^2 = a^2 + 2ab + b^2` 이렇다.

(a + b)^3를 전개해보자..

(a + b)(a + b)(a + b) 이렇게도 쓸수 있고, `(a + b)^3 = a^3 + 3a^2*b + 3a*b^2 + b^2` 가 된다.

`a^3 + 3a^2*b + 3a*b^2 + b^2` 여기서 각 항의 계수를 보자

`1 * a^3 + 3 * a^2*b + 3 * a*b^2 + 1 * b^2` => 즉 1, 3, 3, 1 이다.

왜 1, 3, 3, 1 이 되냐면,

(a + b)(a + b)(a + b) 이렇게 전개했을때,

1* a^3은 a를 3번 뽑는 경우의 수가 1 = aaa
3* a^2*b는 a 2번, b 1번 뽑는 경우의 수가 3 = aab
3* a*b^2는 a 1번, b 2번 뽑는 경우의 수가 3 = abb
1* b^2는 b를 3번 뽑는 경우의 수가 1 = bbb

이기 때문에 1, 3, 3, 1 이다.

몇개중에 몇개 뽑는다.. 라는 개념은 조합과 관련이 있기 때문에,

a를 3번 뽑는 경우의 수가 1 인걸 조합 공식으로 써보면 3C0 = 1
a 2번, b 1번 뽑는 경우의 수가 3 인걸 조합 공식으로 써보면 3C1 = 3
a 1번, b 2번 뽑는 경우의 수가 3 인걸 조합 공식으로 써보면 3C2 = 3
b를 3번 뽑는 경우의 수가 1인걸 조합 공식으로 써보면 3C3 = 1

이렇게 된다.

즉 식에 대입하면,

`3C0 * a^3 + 3C1 * a^2*b + 3C2 * a*b^2 + 3C3 * b^2` 이렇게 된다.

이제 이것을 일반화 해야한다 (중요)..

---

# 일반화

다시 `( a + b )^n` 이걸로 돌아가서, 위의 조합을 사용해서 식을 다시 써보자

`nC0 * a^3 + nC1 * a^n-1*b + nC2 * a^n-2*b^2 + nC3 * a^n-3b^3 + ... +  nCn * b^n`

이걸 수열의 합의 기호인 시그마를 이용하면 아래처럼 표현할 수 있다.

```
n
∑    nCr * a^n-r * b^r
r=0
```

여기서 `nCr`이 이항계수이고,`nCr * a^n-r * b^r` 이 이항정리의 일반항 이라고 한다.

---

예제 1: (ax + 2/x)^5 에서 x^3 항의 계수가 160일때 a = ?

이항정리 공식에 대입을 해보자...지금으로서는, n = 5, a = ax, b = 2/x 밖에 모른다.

```
5
∑    5Cr * ax^5-r * x/2^r   = (ax + 2/x)^5
r=0
```

각 항을 계산해 보자..

이항정리의 일반항이 `nCr * a^n-r * b^r` 이거와 같기 때문에, 여기서 보면,

`5Cr * ax^5-r * x/2^r` 이러한 형태로 각 항들이 구성 된다.

이 항을 한번 해석해보면,

`5Cr`: 5개중에 r개 뽑는다 = 5개의 항 중에 r개를 선택한다.
`ax^5-r`: a와 x가 각각 5-r 만큼 곱해진다. 즉, a`^5-r _ x^5-r`로 나타낼 수 있다.
`x/2^r`: 2와 1/x가 각각 r번 곱해진다. 즉, `2^k * x^-r`가 된다.

따라서 위의 항들 다시 구성해보면,

`5Cr * a^5-r * x^5-r * 2^ r * x^-r` 이다.

x에 관한 지수를 합칠 수 있다. (`x^5-r 그리고  x^-r`)

그래서 결론적으로 `5Cr * a^5-r * 2^r * x^5-2r` 이다.

그런데 x^3 = 160을 주어줬으니, 우리는 `x^5-2r = x^3` 인걸 찾으면 되고,

`5-2r = 3` 에서 r이 1일때 x^3이 존재한다는걸 알 수 있다.

이제 식에 r=1을 대입한다.

`5C1 * a^4 * 2^1 * x^3`
= `5 * a^4 * 2 * x^3`
= `10 * a^4 * x^3`

근데 x^3 의 계수가 160 이므로,

= `10 * a^4 = 160`
= `a^4 = 16`
= `a = -2 or 2`

즉 a 는 2 혹은 -2 이다.
